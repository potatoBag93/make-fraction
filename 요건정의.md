## 📘 분수 감각 향상 웹앱 요건 정의서

### 1. **학습 목적 및 대상**

* **목표**: 분수의 양을 수 감각으로 체화하게 하여 1과 3/4과 같은 수의 의미를 직관적으로 이해하도록 돕는다.
* **대상**: 초등학교 5학년 학생 중 분수의 사칙 연산은 가능하나 분수의 크기를 시각적으로 이해하지 못하는 학습자

---

### 2. **학습 흐름 및 기능 요약**

1. 교사가 **난이도**와 **도형 랜덤 여부**, **제한시간**, **연속정답 모드**, **정답 확인 방식**, **총 문항 수**, **건너뛰기 가능 횟수** 등을 사전 설정함
2. 학생은 문제에 나온 분수만큼 도형을 클릭/드래그하여 채움
3. 제한 시간이 끝나면 정답이 다른 색으로 도형에 표시되고, 채운 양과 비교하여 점수 및 피드백 제공
4. 설정된 정답 확인 방식에 따라 다음 문제로 이동 (n초 후 자동 vs 버튼 클릭)
5. 설정된 시도 횟수까지 진행 후 결과 통계 제공

---

### 3. **기능 상세 요건**

#### 📌 분수 출제

* 분모 범위: 2\~20 (교사가 난이도에 따라 선택)
* 생성 방식: 무작위 분수 생성 (예: 7/8, 1과 3/4 등)
* 특정 분수만 지정하여 연습하는 **문항 범위 제한 기능** 제공

#### 📌 도형 종류

* 원
* 직사각형 (다양한 가로세로 비율)
* 세로형 물컵

> 🔹 모든 도형은 **1을 기준 단위**로 하며, 전체를 채우면 1이 되는 구조
> 🔹 도형 랜덤 변경: ON/OFF 설정 가능
> 🔹 도형마다 시각화 방식은 다르게 표현 (예: 원은 부채꼴, 물컵은 세로 채움 등)
> 🔹 향후 실생활 이미지 기반 도형(컵, 피자 등) 도입 가능성 있음

#### 📌 입력 방식

* 클릭 또는 드래그로 도형 채우기 (드래그 범위에 비례하여 채워짐)
* 실시간 채운 수치는 표시하지 않음 (감각적으로 어림하게 유도)
* **초기화 버튼** 제공 (되돌리기 없음)
* **문제 건너뛰기 버튼** 제공, 단 사용 가능 횟수는 제한되어 있고 시작 시 설정 가능

#### 📌 피드백 및 정답 시각화

* 제한시간 종료 시 정답 분수를 다른 색상으로 도형에 **겹쳐서 시각화**
* 도형 영역은 가로 기준으로 **좌측 70% 채우기 영역 / 우측 30% 결과 피드백 영역**으로 구성
* 점수 표시: 정답과의 오차율 + 시간 보너스
* 문장형 설명 제공: 예) “1과 3/4은 1과, 1을 4로 나눈 것 중 3입니다.”
* 피드백 구조는 현재 단일 방식 (향후 확장 가능)

#### 📌 점수 및 진행 구조

* 점수 계산: 오차율 기반 비율 점수 + 시간 보너스
* 반복 구조: 사전 설정된 시도 횟수까지 반복
* 연속 정답 모드: 설정 ON 시 연속 정답 보너스 제공
* 학습 결과는 **로컬 저장** 후 전체 통계로 요약 표시 (총 정답 수, 평균 정확도 등)
* 결과 화면에는 **모든 문제, 입력값, 점수**가 표시됨
* 학습 종료 후 재시작은 **수동 버튼으로 조작**
* **전체 학급이 함께 푸는 활동을 위한 정답 숨기기 기능** 포함

#### 📌 교사 설정 항목 (시작 전 설정)

* 난이도: 하(분모 2~~4), 중(5~~8), 상(9~~12), 확장(13~~20)
* 도형 랜덤 변경: ON/OFF
* 제한 시간: 초 단위 지정
* 연속 정답 모드: ON/OFF
* 정답 확인 방식: 자동 전환(n초 후) vs 다음 버튼 클릭 (자동 모드에서도 수동 버튼 항상 표시)
* 총 문항 수 설정
* 문제 건너뛰기 허용 여부 및 가능 횟수 설정

#### 📌 기타 고려사항

* UI 구성은 **한 화면 내 모든 정보 표시** 원칙 준수 (스크롤 없음)
* 문제 지시 문장은 **화면 중간 상단**에 표시됨
* 도형은 **화면 높이의 약 50%** 크기로 시각화
* 버튼 크기는 **100px 이상**, 반응형 레이아웃 적용
* 타이머는 **숫자**로만 표시
* 진행 상태(현재 문제 번호 등)는 화면에 함께 표시
* **사용법 보기 버튼**을 별도 제공하여 튜토리얼 접근 가능
* 드래그 진입/해제 안내선 등 실수 방지 요소 추가 예정
* 로그인 및 서버 저장 기능 없음
* 모바일/태블릿/전자칠판 환경 최적화 우선

---추가 요구사항1

1. 원형 도형 구현
2. 물컵에 채우기 말고는 가로로 드래그 하는 형식이면 좋겠음
3. 예를 들어 1과 2/4를 채우려면 물컵 하나를 채우고 다른 물컵에서 2/4만큼 채워야 정답인데 현재는 물컵(도형)이 항상 하나뿐임


---추가 요구사항2
1. 원형 도형은 부채꼴 모양으로 채워지면 좋겠음
2. 모든 도형에서, 전체 면적 대비 색칠된 면적을 바탕으로 분수를 만들어야 함, 단 너무 분모가 복잡해지지 않게 단순화
3. 5/5 8/8같은 문제는 안나오게 해줘.
4. 각 도형은 항상 크기가 일정해야 함. 현재 큰 도형, 작은 도형 따로 나오고 있는 문제 해결

---추가 요구사항3

1. 원형도형 채워지는 로직을 좀 바꿔야 할듯. 깔끔하게 부채꼴 모양이 되려면 마우스의 위치와 원 도형중앙의 위치 사이의 좌표를 계산해서 채워야 할듯.
2. 원형도형 1을 가득 채우고 조금만 넘어가면 다시 0부터 시작해서 1 채우기 어려움
3. 사각형 정답나올 때 어색함. 세로를 가득 채우지 않음.
4. 대분수 문제가 나올때 채울 도형을 이미 줘버리면 학습효과 떨어짐...도형 추가 버튼을 눌러서 빈 도형을 추가할 수 있도록(대분수 문제 아니어도)

---추가 요구사항4
1. 다음 버튼을 누르면 점수계산없이 넘어가버림
2. 대분수 문제에서만 도형 추가 버튼 보이도록
3. 현재 모든 UI가 세로로 나열되어 있는데,  설정/게임/결과 중 한 번에 하나만 보이도록해줘
4.